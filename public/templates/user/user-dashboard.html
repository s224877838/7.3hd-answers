<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>User dashboard</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link rel="stylesheet" href="../../CSS/styles.css" />
  </head>

  <body>
    <!-- Navigation Sidebar -->
    <nav class="sidebar">
      <h4 class="text-center mb-4">User Dashboard</h4>
      <a href="#" class="active" onclick="switchView('dashboard', this)"
        ><i class="fas fa-home"></i> Home</a
      >
      <a href="#" onclick="switchView('posts', this)"
        ><i class="fas fa-pen"></i> Create Post</a
      >
      <a href="#" onclick="switchView('feed', this)"
        ><i class="fas fa-stream"></i> News Feed</a
      >
      <a href="#" onclick="switchView('comments', this)"
        ><i class="fas fa-comments"></i> User Comments</a
      >
      <a href="#" onclick="switchView('report', this)"
        ><i class="fas fa-file-alt"></i> Reports</a
      >
    </nav>

    <!-- Header Bar with User Dropdown -->
    <div class="topbar">
      <div class="dropdown">
        <button
          class="btn btn-outline-primary dropdown-toggle"
          type="button"
          data-bs-toggle="dropdown"
          aria-expanded="false"
        >
          <i class="fas fa-user-circle"></i> JohnDoe
        </button>
        <ul class="dropdown-menu dropdown-menu-end">
          <li>
            <a class="dropdown-item" href="#" onclick="switchView('profile')"
              ><i class="fas fa-user"></i> Account Info</a
            >
          </li>
          <li><hr class="dropdown-divider" /></li>
          <li>
            <a class="dropdown-item" href="#"
              ><i class="fas fa-sign-out-alt"></i> Log Out</a
            >
          </li>
        </ul>
      </div>
    </div>

    <!-- Dynamic Content Area -->
    <div class="content" id="main-content">
      <h2>Home</h2>
      <p>Access your overview and quick actions here.</p>
    </div>

    <script>
      function switchView(section, clickedElement = null) {
        if (clickedElement) {
          document
            .querySelectorAll(".sidebar a")
            .forEach((link) => link.classList.remove("active"));
          clickedElement.classList.add("active");
        }

        let content = "";

        switch (section) {
          case "dashboard":
            content = `<h2>Home</h2><p>Access your overview and quick actions here.</p>`;
            break;
          case "posts":
            content = `
            <h2>Create a New Post</h2>
            <form onsubmit="submitPost(event)">
              <div class="mb-3">
                <label class="form-label">Post Title</label>
                <input type="text" class="form-control" id="postTitle" required />
              </div>
              <div class="mb-3">
                <label class="form-label">Post Content</label>
                <textarea class="form-control" id="postContent" rows="4" required></textarea>
              </div>
              <button type="submit" class="btn btn-primary">Publish</button>
            </form>
            <div id="postMessage" class="mt-3 text-success"></div>
          `;
            break;
          case "feed":
            content = `<h2>News Feed</h2><p>Review the latest posts from others.</p>`;
            break;
          case "comments":
            content = `<h2>User Comments</h2><p>Check and manage your comment history.</p>`;
            break;
          case "report":
            content = `<h2>Reports</h2><p>Download and view your usage reports.</p>`;
            break;
          case "profile":
            content = `
            <h2>Account Information</h2>
            <form onsubmit="updateProfile(event)">
              <div class="mb-3">
                <label class="form-label">Full Name</label>
                <input type="text" class="form-control" id="userName" value="John Doe" required />
              </div>
              <div class="mb-3">
                <label class="form-label">Email Address</label>
                <input type="email" class="form-control" id="userEmail" value="johndoe@example.com" required />
              </div>
              <div class="mb-3">
                <label class="form-label">Password (optional)</label>
                <input type="password" class="form-control" id="userPassword" />
              </div>
              <button type="submit" class="btn btn-success">Save Changes</button>
            </form>
            <div id="profileMessage" class="mt-3 text-success"></div>
          `;
            break;
          default:
            content = `<h2>Home</h2><p>Access your overview and quick actions here.</p>`;
        }

        document.getElementById("main-content").innerHTML = content;
      }

      function submitPost(event) {
        event.preventDefault();
        const title = document.getElementById("postTitle").value.trim();
        const content = document.getElementById("postContent").value.trim();

        if (title && content) {
          document.getElementById(
            "postMessage"
          ).innerText = `Your post titled "${title}" was published successfully!`;
          document.getElementById("postTitle").value = "";
          document.getElementById("postContent").value = "";
        }
      }

      function updateProfile(event) {
        event.preventDefault();
        const name = document.getElementById("userName").value.trim();
        const email = document.getElementById("userEmail").value.trim();

        if (name && email) {
          document.getElementById(
            "profileMessage"
          ).innerText = `Your profile has been updated.`;
        }
      }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
